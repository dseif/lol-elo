include header
include footer

extends layout
block content
	div#screencontainer
		div#content
			+header()
			div#wrapper
				div#leftcontainer
					h1
						if teamNames
							=teamNames[0]
						if eventId
							=eventId
					table
							each result, i in results
								tr
									if (teamNames && teamNames.indexOf(result.teams[1]) !== -1)
										td=Math.round(result.eloBefore[1])
										td
											a(href= '/teams/' + result.teams[1]) #{result.teams[1]}
										td=' vs. '
										td=Math.round(result.eloBefore[0])
										td
											a(href= '/teams/' + result.teams[0]) #{result.teams[0]} 
									else
										td=Math.round(result.eloBefore[0])
										td
											a(href= '/teams/' + result.teams[0]) #{result.teams[0]}
										td=' vs. '
										td=Math.round(result.eloBefore[1])
										td
											a(href= '/teams/' + result.teams[1]) #{result.teams[1]} 						
									if (teamNames && teamNames.indexOf(result.teams[0]) !== -1)
										if (result.result[0] > result.result[1]) 
											td= 'WIN'
										else if (result.result[0] < result.result[1])
											td= 'LOSS'
										else
											td= 'TIE'
									else if (teamNames && teamNames.indexOf(result.teams[1]) !== -1)
										if (result.result[0] < result.result[1]) 
											td= 'WIN'
										else if (result.result[0] > result.result[1])
											td= 'LOSS'
										else 
											td= 'TIE'
									td
										if (teamNames && teamNames.indexOf(result.teams[1]) !== -1)
											=result.result[1] + '-' + result.result[0]
										else
											=result.result[0] + '-' + result.result[1]
									td #{result.date.toDateString()}
									td
										a(href= '/events/' + result.eventName) #{result.eventName}
									td
										case result.region[0]
											when 'N'
												='Na'
											when 'I'
												='Int'
											when 'E'
												='Eu'
											when 'A'
												='As'
											when 'K'
												='Kr'
	include footer
